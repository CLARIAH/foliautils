#!/bin/sh -v
#

rm *.tsv

$my_bin/FoLiA-stats > teststats.out 2>&1

$my_bin/FoLiA-stats -V >> teststats.out 2>&1

$my_bin/FoLiA-stats --help >> teststats.out 2>&1

$my_bin/FoLiA-stats -s --class=OCR --lang="none" -o stats -e dpo out/ > out1 2>&1
diff stats.wordfreqlist.tsv stats-1.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --ngram=3 -s --class=OCR --lang="none" -o stats -e dpo out/ > out2 2>&1
diff stats.wordfreqlist.3-gram.tsv stats-3.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --ngram=3 -S --class=OCR --lang="none" -o statS -e dpo out/ > out2 2>&1
diff statS.wordfreqlist.3-gram.tsv statS-3.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --max-ngram=3 -S --class=OCR --lang="none" -o statS1 -e dpo out/ > out2 2>&1
diff statS1.wordfreqlist.tsv statS1.ok >> teststats.out 2>&1
diff statS1.wordfreqlist.2-gram.tsv statS1-2.ok >> teststats.out 2>&1
diff statS1.wordfreqlist.3-gram.tsv statS1-3.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --ngram=3 --max-ngram=3 -S --class=OCR --lang="none" -o statS2 -e dpo out/ > out2 2>&1
diff statS2.wordfreqlist.3-gram.tsv statS2-3.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --mode=text_in_par --class=OCR --languages="skip,eng" -o stats1 out/langcat.test.lc.xml > out2 2>&1
diff stats1.wordfreqlist.eng.tsv stats-eng.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --mode=text_in_par --class=OCR --languages="eng,nld,fra,deu" -o stats2 data/statstest.xml > out2 2>&1
diff stats2.wordfreqlist.eng.tsv stats-eng.ok >> teststats.out 2>&1
diff stats2.wordfreqlist.nld.tsv stats-nld.ok >> teststats.out 2>&1
diff stats2.wordfreqlist.fra.tsv stats-fra.ok >> teststats.out 2>&1
diff stats2.wordfreqlist.deu.tsv stats-deu.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --mode=text_in_par --class=OCR --languages="skip,eng,nld,fra" -o stats3 data/statstest.xml > out2 2>&1
diff stats3.wordfreqlist.eng.tsv stats-eng.ok >> teststats.out 2>&1
diff stats3.wordfreqlist.nld.tsv stats-nld.ok >> teststats.out 2>&1
diff stats3.wordfreqlist.fra.tsv stats-fra.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --mode=text_in_par --class=OCR --languages="all" -o stats4 data/statstest.xml > out2 2>&1
diff stats4.wordfreqlist.deu.tsv stats-deu.ok >> teststats.out 2>&1
diff stats4.wordfreqlist.eng.tsv stats-eng.ok >> teststats.out 2>&1
diff stats4.wordfreqlist.nld.tsv stats-nld.ok >> teststats.out 2>&1
diff stats4.wordfreqlist.fra.tsv stats-fra.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --mode=text_in_par --class=OCR --ngram=2 --underscore -o stats5 data/statstest.xml > out2 2>&1
diff stats5.wordfreqlist.2-gram.tsv stats-under.ok >> teststats.out 2>&1

$my_bin/FoLiA-stats --mode=text_in_par --class=OCR --ngram=2 --separator='Â°' -o stats6 data/statstest.xml > out2 2>&1
diff stats6.wordfreqlist.2-gram.tsv stats-o.ok >> teststats.out 2>&1
